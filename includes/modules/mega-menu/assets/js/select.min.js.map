{"version":3,"sources":["mega-menu/assets/js/select.js"],"names":["root","factory","define","amd","module","exports","tail","select","jQuery","fn","tailselect","o","r","i","each","push","length","MooTools","Element","implement","window","w","d","document","cHAS","el","name","classList","contains","cADD","add","undefined","cREM","remove","trigger","event","opt","CustomEvent","ev","createEvent","initCustomEvent","bubbles","cancelable","detail","dispatchEvent","clone","obj","rep","Object","assign","constructor","key","create","tag","classes","createElement","className","join","config","querySelectorAll","NodeList","HTMLCollection","Array","_r","l","inst","getAttribute","test","JSON","parse","replace","placeholder","fb1","fb2","multiple","disabled","width","offsetWidth","sourceBind","sourceHide","multiLimit","Infinity","e","id","count","con","defaults","events","init","bind","options","version","status","animate","classNames","csvOutput","csvSeparator","descriptions","deselect","height","hideDisabled","hideSelected","items","locale","linguisticRules","multiPinSelected","multiContainer","multiShowCount","multiShowLimit","multiSelectAll","multiSelectGroup","openAbove","search","searchConfig","searchFocus","searchMarked","searchMinLength","searchDisabled","sortItems","sortGroups","startOpen","stayOpen","cbComplete","cbEmpty","cbLoopItem","cbLoopGroup","strings","de","all","none","empty","emptySearch","limit","placeholderMulti","en","es","fi","fr","it","no","pt_BR","ru","args","cases","num","string","tr","modify","register","object","prototype","_e","def","__","call","self","regexp","c","split","_init","_query","label","dropdown","csvInput","setAttribute","style","isNaN","parseFloat","addEventListener","toggle","appendChild","parseInt","maxHeight","innerHTML","children","query","value","type","removeAttribute","querySelector","container","set","group","selected","description","nextElementSibling","parentElement","insertBefore","display","visibility","visibiltiy","open","keyCode","which","inner","temp","tmp","space","activeElement","indexOf","preventDefault","stopPropagation","close","tagName","pos","top","offsetTop","offsetHeight","scrollTop","Math","max","targets","target","selectedIndex","u","concat","s","filter","item","splice","walk","callback","state","_force","rkey","rgrp","rsel","element","update","arguments","pass","map","forEach","cb","apply","calc","cloneNode","cssText","clientHeight","removeChild","getBoundingClientRect","bottom","innerHeight","view","min","conf","tp","ul","li","a1","a2","g","func","cbGroup","cbItem","hasAttribute","innerText","data","updateCSV","updateLabel","grp","optgroup","applyLinguisticRules","RegExp","updateContainer","updatePin","len","hndl","unselect","option","prev","index","found","final","overflow","focus","zIndex","h","m","setTimeout","removeProperty","handles","reload","rebuild","k","enable","disable","on","parent","groups","get","span","text","hidden","move","new_group","keys","is","handle","dis","lmt","sgl","del","uns","invert","action","convert","list","casesensitive","rules","values","toUpperCase","find","matches","has","any","attributes","regex","exactglyphes","word","sfunc","some","finder","_finderLoop","shift","walker","orderi","orderg","_inLoop","_inItems","_inGroup","_inGroups","sort","reverse","unshift"],"mappings":"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","sourcesContent":["/*\n |  tail.select - The vanilla solution to make your HTML select fields AWESOME!\n |  @file       ./js/tail.select.js\n |  @author     SamBrishes <sam@pytes.net>\n |  @version    0.5.16 - Beta\n |\n |  @website    https://github.com/pytesNET/tail.select\n |  @license    X11 / MIT License\n |  @copyright  Copyright © 2014 - 2019 SamBrishes, pytesNET <info@pytes.net>\n */\n;(function(root, factory){\n    if(typeof define === \"function\" && define.amd){\n        define(function(){ return factory(root); });\n    } else if(typeof module === \"object\" && module.exports){\n        module.exports = factory(root);\n    } else {\n        if(typeof root.tail === \"undefined\"){\n            root.tail = {};\n        }\n        root.tail.select = factory(root);\n\n        // jQuery Support\n        if(typeof jQuery !== \"undefined\"){\n            jQuery.fn.tailselect = function(o){\n                var r = [], i;\n                this.each(function(){ if((i = tail.select(this, o)) !== false){ r.push(i); } });\n                return (r.length === 1)? r[0]: (r.length === 0)? false: r;\n            };\n        }\n\n        // MooTools Support\n        if(typeof MooTools !== \"undefined\"){\n            Element.implement({ tailselect: function(o){ return new tail.select(this, o); } });\n        }\n    }\n}(window, function(root){\n    \"use strict\";\n    var w = root, d = root.document;\n\n    // Internal Helper Methods\n    function cHAS(el, name){\n        return (el && \"classList\" in el)? el.classList.contains(name): false;\n    }\n    function cADD(el, name){\n        return (el && \"classList\" in el)? el.classList.add(name): undefined;\n    }\n    function cREM(el, name){\n        return (el && \"classList\" in el)? el.classList.remove(name): undefined;\n    }\n    function trigger(el, event, opt){\n        if(CustomEvent && CustomEvent.name){\n            var ev = new CustomEvent(event, opt);\n        } else {\n            var ev = d.createEvent(\"CustomEvent\");\n            ev.initCustomEvent(event, !!opt.bubbles, !!opt.cancelable, opt.detail);\n        }\n        return el.dispatchEvent(ev);\n    }\n    function clone(obj, rep){\n        if(typeof Object.assign === \"function\"){\n            return Object.assign({}, obj, rep || {});\n        }\n        var clone = Object.constructor();\n        for(var key in obj){\n            clone[key] = (key in rep)? rep[key]: obj[key];\n        }\n        return clone;\n    }\n    function create(tag, classes){\n        var r = d.createElement(tag);\n        r.className = (classes && classes.join)? classes.join(\" \"): classes || \"\";\n        return r;\n    }\n\n    /*\n     |  SELECT CONSTRUCTOR\n     |  @since  0.5.16 [0.3.0]\n     */\n    var select = function(el, config){\n        el = (typeof el === \"string\")? d.querySelectorAll(el): el;\n        if(el instanceof NodeList || el instanceof HTMLCollection || el instanceof Array){\n            for(var _r = [], l = el.length, i = 0; i < l; i++){\n                _r.push(new select(el[i], clone(config, {})));\n            }\n            return (_r.length === 1)? _r[0]: ((_r.length === 0)? false: _r);\n        }\n        if(!(el instanceof Element) || !(this instanceof select)){\n            return !(el instanceof Element)? false: new select(el, config);\n        }\n\n        // Check Element\n        if(select.inst[el.getAttribute(\"data-tail-select\")]){\n            return select.inst[el.getAttribute(\"data-tail-select\")];\n        }\n        if(el.getAttribute(\"data-select\")){\n            var test = JSON.parse(el.getAttribute(\"data-select\").replace(/\\'/g, '\"'));\n            if(test instanceof Object){\n                config = clone(config, test); // This is a unofficial function ;3\n            }\n        }\n\n        // Get Element Options\n        var placeholder = el.getAttribute(\"placeholder\") || el.getAttribute(\"data-placeholder\"),\n            fb1 = \"bindSourceSelect\", fb2 = \"sourceHide\"; // Fallbacks\n        config = (config instanceof Object)? config: {};\n        config.multiple = (\"multiple\" in config)? config.multiple: el.multiple;\n        config.disabled = (\"disabled\" in config)? config.disabled: el.disabled;\n        config.placeholder = placeholder || config.placeholder || null;\n        config.width = (config.width === \"auto\")? el.offsetWidth + 50: config.width;\n        config.sourceBind = (fb1 in config)? config[fb1]: config.sourceBind || false;\n        config.sourceHide = (fb2 in config)? config[fb2]: config.sourceHide || true;\n        config.multiLimit = (config.multiLimit >= 0)? config.multiLimit: Infinity;\n\n\n        // Init Instance\n        this.e = el;\n        this.id = ++select.count;\n        this.con = clone(select.defaults, config);\n        this.events = {};\n        select.inst[\"tail-\" + this.id] = this;\n        return this.init().bind();\n    }, options;\n    select.version = \"0.5.16\";\n    select.status = \"beta\";\n    select.count = 0;\n    select.inst = {};\n\n    /*\n     |  STORAGE :: DEFAULT OPTIONS\n     */\n    select.defaults = {\n        animate: true,              // [0.3.0]      Boolean\n        classNames: null,           // [0.2.0]      Boolean, String, Array, null\n        csvOutput: false,           // [0.3.4]      Boolean\n        csvSeparator: \",\",          // [0.3.4]      String\n        descriptions: false,        // [0.3.0]      Boolean\n        deselect: false,            // [0.3.0]      Boolean\n        disabled: false,            // [0.5.0]      Boolean\n        height: 350,                // [0.2.0]      Integer, null\n        hideDisabled: false,        // [0.3.0]      Boolean\n        hideSelected: false,        // [0.3.0]      Boolean\n        items: {},                  // [0.3.0]      Object\n        locale: \"en\",               // [0.5.0]      String\n        linguisticRules: {          // [0.5.9]      Object\n            \"е\": \"ё\",\n            \"a\": \"ä\",\n            \"o\": \"ö\",\n            \"u\": \"ü\",\n            \"ss\": \"ß\"\n        },\n        multiple: false,            // [0.2.0]      Boolean\n        multiLimit: Infinity,       // [0.3.0]      Integer, Infinity\n        multiPinSelected: false,    // [0.5.0]      Boolean\n        multiContainer: false,      // [0.3.0]      Boolean, String\n        multiShowCount: true,       // [0.3.0]      Boolean\n        multiShowLimit: false,      // [0.5.0]      Boolean\n        multiSelectAll: false,      // [0.4.0]      Boolean\n        multiSelectGroup: true,     // [0.4.0]      Boolean\n        openAbove: null,            // [0.3.0]      Boolean, null\n        placeholder: null,          // [0.2.0]      String, null\n        search: false,              // [0.3.0]      Boolean\n        searchConfig: [             // [0.5.13]     Array\n            \"text\", \"value\"\n        ],\n        searchFocus: true,          // [0.3.0]      Boolean\n        searchMarked: true,         // [0.3.0]      Boolean\n        searchMinLength: 1,         // [0.5.13]     Integer\n        searchDisabled: true,       // [0.5.5]      Boolean\n        sortItems: false,           // [0.3.0]      String, Function, false\n        sortGroups: false,          // [0.3.0]      String, Function, false\n        sourceBind: false,          // [0.5.0]      Boolean\n        sourceHide: true,           // [0.5.0]      Boolean\n        startOpen: false,           // [0.3.0]      Boolean\n        stayOpen: false,            // [0.3.0]      Boolean\n        width: null,                // [0.2.0]      Integer, String, null\n        cbComplete: undefined,      // [0.5.0]      Function\n        cbEmpty: undefined,         // [0.5.0]      Function\n        cbLoopItem: undefined,      // [0.4.0]      Function\n        cbLoopGroup: undefined      // [0.4.0]      Function\n    };\n\n    /*\n     |  STORAGE :: STRINGS\n     */\n    select.strings = {\n        de: {\n            all: \"Alle\",\n            none: \"Keine\",\n            empty: \"Keine Optionen verfügbar\",\n            emptySearch: \"Keine Optionen gefunden\",\n            limit: \"Keine weiteren Optionen wählbar\",\n            placeholder: \"Wähle eine Option...\",\n            placeholderMulti: \"Wähle bis zu :limit Optionen...\",\n            search: \"Tippen zum suchen\",\n            disabled: \"Dieses Feld ist deaktiviert\"\n        },\n        en: {\n            all: \"All\",\n            none: \"None\",\n            empty: \"No Options available\",\n            emptySearch: \"No Options found\",\n            limit: \"You can't select more Options\",\n            placeholder: \"Select an Option...\",\n            placeholderMulti: \"Select up to :limit Options...\",\n            search: \"Type in to search...\",\n            disabled: \"This Field is disabled\"\n        },\n        es: {\n            all: \"Todos\",\n            none: \"Ninguno\",\n            empty: \"No hay opciones disponibles\",\n            emptySearch: \"No se encontraron opciones\",\n            limit: \"No puedes seleccionar mas opciones\",\n            placeholder: \"Selecciona una opción...\",\n            placeholderMulti: \"Selecciona hasta :límite de opciones...\",\n            search: \"Escribe dentro para buscar...\",\n            disabled: \"Este campo esta deshabilitado\"\n        },\n        fi: {\n            all: \"Kaikki\",\n            none: \"Ei mitään\",\n            empty: \"Ei vaihtoehtoja\",\n            emptySearch: \"Etsimääsi vaihtoehtoa ei löytynyt\",\n            limit: \"Muita vaihtoehtoja ei voi valita\",\n            placeholder: \"Valitse...\",\n            placeholderMulti: \"Valitse maksimissaan :limit...\",\n            search: \"Hae tästä...\",\n            disabled: \"Kenttä on poissa käytöstä\"\n        },\n        fr: {\n            all: \"Tous\",\n            none: \"Aucun\",\n            empty: \"Aucune option disponible\",\n            emptySearch: \"Aucune option trouvée\",\n            limit: \"Aucune autre option sélectionnable\",\n            placeholder: \"Choisissez une option...\",\n            placeholderMulti: \"Choisissez jusqu'à :limit option(s)...\",\n            search: \"Rechercher...\",\n            disabled: \"Ce champs est désactivé\"\n        },\n        it: {\n            all: \"Tutti\",\n            none: \"Nessuno\",\n            empty: \"Nessuna voce disponibile\",\n            emptySearch: \"Nessuna voce trovata\",\n            limit: \"Non puoi selezionare più Voci\",\n            placeholder: \"Seleziona una Voce\",\n            placeholderMulti: \"Selezione limitata a :limit Voci...\",\n            search: \"Digita per cercare...\",\n            disabled: \"Questo Campo è disabilitato\"\n        },\n        no: {\n            all: \"Alle\",\n            none: \"Ingen\",\n            empty: \"Ingen valg tilgjengelig\",\n            emptySearch: \"Ingen valg funnet\",\n            limit: \"Du kan ikke velge flere\",\n            placeholder: \"Velg...\",\n            placeholderMulti: \"Velg opptil :limit...\",\n            search: \"Søk...\",\n            disabled: \"Dette feltet er deaktivert\"\n        },\n        pt_BR: {\n            all: \"Todas\",\n            none: \"Nenhuma\",\n            empty: \"Nenhuma opção disponível\",\n            emptySearch: \"Nenhuma opção encontrada\",\n            limit: \"Não é possível selecionar outra opção\",\n            placeholder: \"Escolha uma opção ...\",\n            placeholderMulti: \"Escolha até: :limit opção(ões) ...\",\n            search: \"Buscar ...\",\n            disabled: \"Campo desativado\"\n        },\n        ru: {\n            all: \"Все\",\n            none: \"Ничего\",\n            empty: \"Нет доступных вариантов\",\n            emptySearch: \"Ничего не найдено\",\n            limit: \"Вы не можете выбрать больше вариантов\",\n            placeholder: \"Выберите вариант...\",\n            placeholderMulti: function(args){\n                var strings = [\"варианта\", \"вариантов\", \"вариантов\"], cases = [2, 0, 1, 1, 1, 2], num = args[\":limit\"];\n                var string = strings[(num%100 > 4 && num%100 < 20)? 2: cases[(num%10 < 5)? num%10: 5]];\n                return \"Выбор до :limit \" + string + \" ...\";\n            },\n            search: \"Начните набирать для поиска ...\",\n            disabled: \"Поле отключено\"\n        },\n        tr: {\n            all: \"Tümü\",\n            none: \"Hiçbiri\",\n            empty: \"Seçenek yok\",\n            emptySearch: \"Seçenek bulunamadı\",\n            limit: \"Daha fazla Seçenek seçemezsiniz\",\n            placeholder: \"Bir Seçenek seçin...\",\n            placeholderMulti: \"En fazla :limit Seçenek seçin...\",\n            search: \"Aramak için yazın...\",\n            disabled: \"Bu Alan kullanılamaz\"\n        },\n        modify: function(locale, id, string){\n            if(!(locale in this)){\n                return false;\n            }\n            if((id instanceof Object)){\n                for(var key in id){\n                    this.modify(locale, key, id[key]);\n                }\n            } else {\n                this[locale][id] = (typeof string === \"string\")? string: this[locale][id];\n            }\n            return true;\n        },\n        register: function(locale, object){\n            if(typeof locale !== \"string\" || !(object instanceof Object)){\n                return false;\n            }\n            this[locale] = object;\n            return true;\n        }\n    };\n\n    /*\n     |  TAIL.SELECT HANDLER\n     */\n    select.prototype = {\n        /*\n         |  INERNAL :: TRANSLATE\n         |  @since  0.5.8 [0.5.8]\n         */\n        _e: function(string, replace, def){\n            if(!(string in this.__)){\n                return (!def)? string: def;\n            }\n\n            var string = this.__[string];\n            if(typeof string === \"function\"){\n                string = string.call(this, replace);\n            }\n            if(typeof replace === \"object\"){\n                for(var key in replace){\n                    string = string.replace(key, replace[key]);\n                }\n            }\n            return string;\n        },\n\n        /*\n         |  INTERNAL :: INIT SELECT FIELD\n         |  @since  0.5.13 [0.3.0]\n         */\n        init: function(){\n            var self = this, classes = [\"tail-select\"], con = this.con,\n                regexp = /^[0-9.]+(?:cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|\\%)$/i;\n\n            // Init ClassNames\n            var c = (con.classNames === true)? this.e.className: con.classNames;\n            classes.push((c && c.push)? c.join(\" \"): (c && c.split)? c: \"no-classes\");\n            if(con.hideSelected){    classes.push(\"hide-selected\"); }\n            if(con.hideDisabled){    classes.push(\"hide-disabled\"); }\n            if(con.multiLimit == 0){ classes.push(\"disabled\");      }\n            if(con.multiple){        classes.push(\"multiple\");      }\n            if(con.deselect){        classes.push(\"deselect\");      }\n            if(con.disabled){        classes.push(\"disabled\");      }\n\n            // Init Variables\n            this.__ = clone(select.strings.en, select.strings[con.locale] || {});\n            this._init = true;\n            this._query = false;\n            this.select = create(\"DIV\", classes);\n            this.label = create(\"DIV\", \"select-label\");\n            this.dropdown = create(\"DIV\", \"select-dropdown\");\n            this.search = create(\"DIV\", \"dropdown-search\");\n            this.csvInput = create(\"INPUT\", \"select-search\");\n\n            // Build :: Select\n            if(this.e.getAttribute(\"tabindex\") !== null){\n                this.select.setAttribute(\"tabindex\", this.e.getAttribute(\"tabindex\"));\n            } else {\n                this.select.setAttribute(\"tabindex\", 0);\n            }\n            if(con.width && regexp.test(con.width)){\n                this.select.style.width = con.width;\n            } else if(con.width && !isNaN(parseFloat(con.width, 10))){\n                this.select.style.width = con.width + \"px\";\n            }\n\n            // Build :: Label\n            this.label.addEventListener(\"click\", function(event){\n                self.toggle.call(self, self.con.animate);\n            });\n            this.select.appendChild(this.label);\n\n            // Build :: Dropdown\n            if(!isNaN(parseInt(con.height, 10))){\n                this.dropdown.style.maxHeight = parseInt(con.height, 10) + \"px\";\n            }\n            if(con.search){\n                this.search.innerHTML = '<input type=\"text\" class=\"search-input\" />';\n                this.search.children[0].placeholder = this._e(\"search\");\n                this.search.children[0].addEventListener(\"input\", function(event){\n                    self.query.call(self, (this.value.length > con.searchMinLength)? this.value: undefined);\n                });\n                this.dropdown.appendChild(this.search);\n            }\n            this.select.appendChild(this.dropdown);\n\n            // Build :: CSV Input\n            this.csvInput.type = \"hidden\";\n            if(con.csvOutput){\n                this.csvInput.name = this.e.name;\n                this.e.removeAttribute(\"name\");\n                this.select.appendChild(this.csvInput);\n            }\n\n            // Prepare Container\n            if(con.multiple && con.multiContainer){\n                if(d.querySelector(con.multiContainer)){\n                    this.container = d.querySelector(con.multiContainer);\n                    this.container.className += \" tail-select-container\";\n                } else if(con.multiContainer === true){\n                    this.container = this.label;\n                    this.container.className += \" tail-select-container\";\n                }\n            }\n\n            // Prepare Options\n            this.options = new options(this.e, this);\n            for(var l = this.e.options.length, i = 0; i < l; i++){\n                this.options.set(this.e.options[i], false);\n            }\n            for(var key in con.items){\n                if(typeof con.items[key] === \"string\"){\n                    con.items[key] = {value: con.items[key]};\n                }\n                this.options.add(con.items[key].key || key, con.items[key].value,\n                    con.items[key].group, con.items[key].selected,\n                    con.items[key].disabled, con.items[key].description);\n            }\n            this.query();\n\n            // Append and Return\n            if(this.e.nextElementSibling){\n                this.e.parentElement.insertBefore(this.select, this.e.nextElementSibling);\n            } else {\n                this.e.parentElement.appendChild(this.select);\n            }\n            if(con.sourceHide){\n                if(this.e.style.display == \"none\"){\n                    this.select.style.display = \"none\";\n                    this.e.setAttribute(\"data-select-hidden\", \"display\");\n                } else if(this.e.style.visibility == \"hidden\"){\n                    this.select.style.visibiltiy = \"hidden\";\n                    this.e.setAttribute(\"data-select-hidden\", \"visibility\");\n                } else {\n                    this.e.style.display = \"none\";\n                    this.e.setAttribute(\"data-select-hidden\", \"0\");\n                }\n            }\n            this.e.setAttribute(\"data-tail-select\", \"tail-\" + this.id);\n            if(self.con.startOpen){\n                this.open(con.animate);\n            }\n            (con.cbComplete || function(){ }).call(this, this.select);\n            return (this._init = false)? this: this;\n        },\n\n        /*\n         |  INTERNAL :: EVENT LISTENER\n         |  @since  0.5.13 [0.3.0]\n         */\n        bind: function(){\n            var self = this;\n\n            // Keys Listener\n            d.addEventListener(\"keydown\", function(event){\n                var key = (event.keyCode || event.which), opt, inner, e, temp, tmp;\n                var space = (key == 32 && self.select === document.activeElement);\n                if(!space && (!cHAS(self.select, \"active\") || [13, 27, 38, 40].indexOf(key) < 0)){\n                    return false;\n                }\n                event.preventDefault();\n                event.stopPropagation();\n\n                // Space\n                if(key === 32){\n                    return self.open(self.con.animate);\n                }\n\n                // Enter || Escape\n                if(key == 13){\n                    if((opt = self.dropdown.querySelector(\".dropdown-option.hover:not(.disabled)\"))){\n                        self.options.select.call(self.options, opt);\n                    }\n                }\n                if(key == 27 || key == 13){\n                    return self.close(self.con.animate);\n                }\n\n                // Top || Down\n                if((opt = self.dropdown.querySelector(\".dropdown-option.hover:not(.disabled)\"))){\n                    cREM(opt, \"hover\"); e = [((key == 40)? \"next\": \"previous\") + \"ElementSibling\"];\n                    do {\n                        if((temp = opt[e]) !== null && opt.tagName == \"LI\"){\n                            opt = temp;\n                        } else if((temp = opt.parentElement[e]) !== null && temp.children.length > 0 && temp.tagName == \"UL\"){\n                            opt = temp.children[(key == 40)? 0: temp.children.length-1];\n                        } else {\n                            opt = false;\n                        }\n                        if(opt && (!cHAS(opt, \"dropdown-option\") || cHAS(opt, \"disabled\"))){\n                            continue;\n                        }\n                        break;\n                    } while(true);\n                }\n                if(!opt && key == 40){\n                    opt = self.dropdown.querySelector(\".dropdown-option:not(.disabled)\");\n                } else if(!opt && key == 38){\n                    tmp = self.dropdown.querySelectorAll(\".dropdown-option:not(.disabled)\");\n                    opt = tmp[tmp.length - 1];\n                }\n                if(opt && (inner = self.dropdown.querySelector(\".dropdown-inner\"))){\n                    var pos = (function(el){\n                        var _r = {top: el.offsetTop, height: el.offsetHeight};\n                        while((el = el.parentElement) != inner){\n                            _r.top += el.offsetTop;\n                        }\n                        return _r;\n                    })(opt);\n                    cADD(opt, \"hover\");\n                    inner.scrollTop = Math.max(0, pos.top - (pos.height * 2));\n                }\n                return true;\n            });\n\n            // Close\n            d.addEventListener(\"click\", function(ev){\n                if(!cHAS(self.select, \"active\") || cHAS(self.select, \"idle\")){ return false; }\n                if(self.con.stayOpen === true){ return false; }\n\n                var targets = [self.e, self.select, self.container];\n                for(var l = targets.length, i = 0; i < l; i++){\n                    if(targets[i] && (targets[i].contains(ev.target) || targets[i] == ev.target)){\n                        return false;\n                    }\n                    if(!ev.target.parentElement){ return false; }\n                }\n                return self.close.call(self, self.con.animate);\n            });\n\n            // Bind Source Select\n            if(!this.con.sourceBind){\n                return true;\n            }\n            this.e.addEventListener(\"change\", function(event){\n                if(event.detail != undefined){\n                    return false;\n                }\n                event.preventDefault();\n                event.stopPropagation();\n                if(!this.multiple && this.selectedIndex){\n                    self.options.select.call(self.options, this.options[this.selectedIndex]);\n                } else {\n                    var u = [].concat(self.options.selected);\n                    var s = [].filter.call(this.querySelectorAll(\"option:checked\"), function(item){\n                        if(u.indexOf(item) >= 0){\n                            u.splice(u.indexOf(item), 1);\n                            return false;\n                        }\n                        return true;\n                    });\n                    self.options.walk.call(self.options, \"unselect\", u);\n                    self.options.walk.call(self.options, \"select\", s);\n                }\n            });\n            return true;\n        },\n\n        /*\n         |  INTERNAL :: INTERNAL CALLBACK\n         |  @since  0.5.14 [0.3.0]\n         */\n        callback: function(item, state, _force){\n            var rkey = item.key.replace(/('|\\\\)/g, \"\\\\$1\"),\n                rgrp = item.group.replace(/('|\\\\)/g, \"\\\\$1\"),\n                rsel = \"[data-key='\" + rkey + \"'][data-group='\" + rgrp + \"']\";\n            if(state == \"rebuild\"){ return this.query(); }\n\n            // Set Element-Item States\n            var element = this.dropdown.querySelector(rsel);\n            if(element && [\"select\", \"disable\"].indexOf(state) >= 0){\n                cADD(element, (state == \"select\"? \"selected\": \"disabled\"));\n            } else if(element && [\"unselect\", \"enable\"].indexOf(state) >= 0){\n                cREM(element, (state == \"unselect\"? \"selected\": \"disabled\"));\n            }\n\n            // Handle\n            this.update(item);\n            return (_force === true)? true: this.trigger(\"change\", item, state);\n        },\n\n        /*\n         |  INTERNAL :: TRIGGER EVENT HANDLER\n         |  @since  0.5.2 [0.4.0]\n         */\n        trigger: function(event){\n            if(this._init){ return false; }\n            var obj = {bubbles: false, cancelable: true, detail: {args: arguments, self: this}};\n            if(event == \"change\" && arguments[2] && arguments[2].indexOf(\"select\") >= 0){\n                trigger(this.e, \"input\", obj);\n                trigger(this.e, \"change\", obj);\n            }\n            trigger(this.select, \"tail::\" + event, obj);\n\n            var args = [], pass;\n            Array.prototype.map.call(arguments, function(item, i){\n                if(i > 0){ args.push(item); }\n            });\n            (this.events[event] || []).forEach(function(item){\n                pass = [].concat(args);\n                pass.push(item.args || null);\n                (item.cb || function(){ }).apply(obj.detail.self, pass);\n            });\n            return true;\n        },\n\n        /*\n         |  INTERNAL :: CALCULATE DROPDOWN\n         |  @since  0.5.4 [0.5.0]\n         */\n        calc: function(){\n            var clone = this.dropdown.cloneNode(true), height = this.con.height, search = 0,\n                inner = this.dropdown.querySelector(\".dropdown-inner\");\n\n            // Calculate Dropdown Height\n            clone = this.dropdown.cloneNode(true);\n            clone.style.cssText = \"height:auto;min-height:auto;max-height:none;opacity:0;display:block;visibility:hidden;\";\n            clone.style.maxHeight = this.con.height + \"px\";\n            clone.className += \" cloned\";\n            this.dropdown.parentElement.appendChild(clone);\n            height = (height > clone.clientHeight)? clone.clientHeight: height;\n            if(this.con.search){\n                search = clone.querySelector(\".dropdown-search\").clientHeight;\n            }\n            this.dropdown.parentElement.removeChild(clone);\n\n            // Calculate Viewport\n            var pos = this.select.getBoundingClientRect(),\n                bottom = w.innerHeight-(pos.top+pos.height),\n                view = ((height+search) > bottom)? pos.top > bottom: false;\n            if(this.con.openAbove === true || (this.con.openAbove !== false && view)){\n                view = true, height = Math.min((height), pos.top-10);\n                cADD(this.select, \"open-top\");\n            } else {\n                view = false, height = Math.min((height), bottom-10);\n                cREM(this.select, \"open-top\");\n            }\n            if(inner){\n                this.dropdown.style.maxHeight = height + \"px\";\n                inner.style.maxHeight = (height-search) + \"px\";\n            }\n            return this;\n        },\n\n        /*\n         |  API :: QUERY OPTIONS\n         |  @since  0.5.13 [0.5.0]\n         */\n        query: function(search, conf){\n            var item, tp, ul, li, a1, a2;                           // Pre-Definition\n            var self = this, con = this.con, g = \"getAttribute\";    // Shorties\n            var root = create(\"DIV\", \"dropdown-inner\"),             // Contexts\n                func = (!search)? \"walker\": \"finder\",\n                args = (!search)? [con.sortItems, con.sortGroups]: [search, conf];\n\n            // Option Walker\n            this._query = (typeof search === \"string\")? search: false;\n            while(item = this.options[func].apply(this.options, args)){\n                if(!ul || (ul && ul[g](\"data-group\") !== item.group)){\n                    tp = (con.cbLoopGroup || this.cbGroup).call(this, item.group, search, root);\n                    if(tp instanceof Element){\n                        ul = tp;\n                        ul.setAttribute(\"data-group\", item.group);\n                        root.appendChild(ul);\n                    } else { break; }\n                }\n\n                // Create Item\n                if((li = (con.cbLoopItem || this.cbItem).call(this, item, ul, search, root)) === null){\n                    continue;\n                }\n                if(li === false){ break; }\n                li.setAttribute(\"data-key\", item.key);\n                li.setAttribute(\"data-group\", item.group);\n                li.addEventListener(\"click\", function(event){\n                    if(!this.hasAttribute(\"data-key\")){ return false; }\n                    var key = this[g](\"data-key\"), group = this[g](\"data-group\") || \"#\";\n                    if(self.options.toggle.call(self.options, key, group)){\n                        if(self.con.stayOpen === false && !self.con.multiple){\n                            self.close.call(self, self.con.animate);\n                        }\n                    }\n                });\n                ul.appendChild(li);\n            }\n\n            // Empty\n            var count = root.querySelectorAll(\"*[data-key]\").length;\n            if(count == 0){\n                (this.con.cbEmpty || function(element){\n                    var li = create(\"SPAN\", \"dropdown-empty\");\n                    li.innerText = this._e(\"empty\");\n                    element.appendChild(li);\n                }).call(this, root, search);\n            }\n\n            // Select All\n            if(count > 0 && con.multiple && con.multiLimit == Infinity && con.multiSelectAll){\n                a1 = create(\"BUTTON\", \"tail-all\"), a2 = create(\"BUTTON\", \"tail-none\");\n                a1.innerText = this._e(\"all\");\n                a1.addEventListener(\"click\", function(event){\n                    event.preventDefault();\n                    var options = self.dropdown.querySelectorAll(\".dropdown-inner .dropdown-option\");\n                    self.options.walk.call(self.options, \"select\", options);\n                })\n                a2.innerText = this._e(\"none\");\n                a2.addEventListener(\"click\", function(event){\n                    event.preventDefault();\n                    var options = self.dropdown.querySelectorAll(\".dropdown-inner .dropdown-option\");\n                    self.options.walk.call(self.options, \"unselect\", options);\n                })\n\n                // Add Element\n                li = create(\"SPAN\", \"dropdown-action\");\n                li.appendChild(a1);\n                li.appendChild(a2);\n                root.insertBefore(li, root.children[0]);\n            }\n\n            // Add and Return\n            var data = this.dropdown.querySelector(\".dropdown-inner\");\n            this.dropdown[(data? \"replace\": \"append\") + \"Child\"](root, data);\n            if(cHAS(this.select, \"active\")){\n                this.calc();\n            }\n            return this.updateCSV().updateLabel();\n        },\n\n        /*\n         |  API :: CALLBACK -> CREATE GROUP\n         |  @since  0.5.8 [0.4.0]\n         */\n        cbGroup: function(group, search){\n            var ul = create(\"UL\", \"dropdown-optgroup\"), self = this, a1, a2;\n            if(group == \"#\"){ return ul; }\n            ul.innerHTML = '<li class=\"optgroup-title\"><b>' + group + '</b></li>';\n            if(this.con.multiple && this.con.multiLimit == Infinity && this.con.multiSelectAll){\n                a1 = create(\"BUTTON\", \"tail-none\"), a2 = create(\"BUTTON\", \"tail-all\");\n                a1.innerText = this._e(\"none\");\n                a1.addEventListener(\"click\", function(event){\n                    event.preventDefault();\n                    var grp = this.parentElement.parentElement.getAttribute(\"data-group\");\n                    self.options.all.call(self.options, \"unselect\", grp);\n                });\n                a2.innerText = this._e(\"all\");\n                a2.addEventListener(\"click\", function(event){\n                    event.preventDefault();\n                    var grp = this.parentElement.parentElement.getAttribute(\"data-group\");\n                    self.options.all.call(self.options, \"select\", grp);\n                });\n                ul.children[0].appendChild(a1);\n                ul.children[0].appendChild(a2);\n            }\n            return ul;\n        },\n\n        /*\n         |  API :: CALLBACK -> CREATE ITEM\n         |  @since  0.5.13 [0.4.0]\n         */\n        cbItem: function(item, optgroup, search){\n            var li = create(\"LI\", \"dropdown-option\" + (item.selected? \" selected\": \"\") + (item.disabled? \" disabled\": \"\"));\n\n            // Inner Text\n            if(search && search.length > 0 && this.con.searchMarked){\n                search = this.options.applyLinguisticRules(search);\n                li.innerHTML = item.value.replace(new RegExp(\"(\" + search + \")\", \"i\"), \"<mark>$1</mark>\");\n            } else {\n                li.innerText = item.value;\n            }\n\n            // Inner Description\n            if(this.con.descriptions && item.description){\n                li.innerHTML += '<span class=\"option-description\">' + item.description + '</span>';\n            }\n            return li;\n        },\n\n        /*\n         |  API :: UPDATE EVERYTHING\n         |  @since  0.5.0 [0.5.0]\n         */\n        update: function(item){\n            return this.updateLabel().updateContainer(item).updatePin(item).updateCSV(item);\n        },\n\n        /*\n         |  API :: UPDATE LABEL\n         |  @since  0.5.8 [0.5.0]\n         */\n        updateLabel: function(label){\n            if(this.container == this.label && this.options.selected.length > 0){\n                if(this.label.querySelector(\".label-inner\")){\n                    this.label.removeChild(this.label.querySelector(\".label-inner\"));\n                }\n                if(this.label.querySelector(\".label-count\")){\n                    this.label.removeChild(this.label.querySelector(\".label-count\"));\n                }\n                return this;\n            }\n            var c = this.con, len = this.options.selected.length, limit;\n            if(typeof label !== \"string\"){\n                if(c.disabled){\n                    label = \"disabled\";\n                } else if(this.dropdown.querySelectorAll(\"*[data-key]\").length == 0){\n                    label = \"empty\" + (cHAS(this.select, \"in-search\")? \"Search\": \"\");\n                } else if(c.multiLimit <= len){\n                    label = \"limit\";\n                } else if(!c.multiple && this.options.selected.length > 0){\n                    label = this.options.selected[0].innerText;\n                } else if(typeof c.placeholder === \"string\"){\n                    label = c.placeholder;\n                } else {\n                    label = \"placeholder\" + (c.multiple && c.multiLimit < Infinity? \"Multi\": \"\");\n                }\n            }\n\n            // Set HTML\n            label = this._e(label, {\":limit\": c.multiLimit}, label);\n            label = '<span class=\"label-inner\">' + label + '</span>',\n                limit = (c.multiShowLimit && c.multiLimit < Infinity);\n            if(c.multiple && c.multiShowCount){\n                label = '<span class=\"label-count\">:c</span>' + label;\n                label = label.replace(\":c\", len + (limit? (\" / \" + c.multiLimit): \"\"));\n            }\n            this.label.innerHTML = label;\n            return this;\n        },\n\n        /*\n         |  API :: UPDATE CONTAINER\n         |  @since  0.5.0 [0.5.0]\n         */\n        updateContainer: function(item){\n            if(!this.container || !this.con.multiContainer){\n                return this;\n            }\n            var s = \"[data-group='\" + item.group + \"'][data-key='\" + item.key + \"']\";\n            if(this.container.querySelector(s)){\n                if(!item.selected){\n                    this.container.removeChild(this.container.querySelector(s));\n                }\n                return this;\n            }\n\n            // Create Item\n            if(item.selected){\n                var self = this, hndl = create(\"DIV\", \"select-handle\");\n                hndl.innerText = item.value;\n                hndl.setAttribute(\"data-key\", item.key);\n                hndl.setAttribute(\"data-group\", item.group);\n                hndl.addEventListener(\"click\", function(event){\n                    event.preventDefault();\n                    event.stopPropagation();\n                    var key = this.getAttribute(\"data-key\"), grp = this.getAttribute(\"data-group\");\n                    self.options.unselect.call(self.options, key, grp);\n                });\n                this.container.appendChild(hndl);\n            }\n            return this;\n        },\n\n        /*\n         |  API :: UPDATE PIN POSITION\n         |  @since  0.5.3 [0.5.0]\n         */\n        updatePin: function(item){\n            var inner = this.dropdown.querySelector(\".dropdown-inner ul\"),\n                option = \"li[data-key='\" + item.key + \"'][data-group='\" + item.group + \"']\";\n            if(!this.con.multiPinSelected || !inner || this._query !== false){\n                return this;\n            }\n\n            // Create Item\n            option = this.dropdown.querySelector(option);\n            if(item.selected){\n                inner.insertBefore(option, inner.children[0]);\n            } else {\n                var grp = this.dropdown.querySelector(\"ul[data-group='\" + item.group + \"']\"),\n                    prev = this.options[item.index-1], found = false;\n                while(prev && prev.group == item.group){\n                    if(found = grp.querySelector(\"li[data-key='\" + prev.key + \"']\")){\n                        break;\n                    }\n                    prev = this.options[prev.index-1];\n                }\n                if(found && found.nextElementSibling){\n                    grp.insertBefore(option, found.nextElementSibling);\n                } else {\n                    grp.appendChild(option);\n                }\n            }\n            return this;\n        },\n\n        /*\n         |  API :: UPDATE CSV INPUT\n         |  @since  0.5.0 [0.5.0]\n         */\n        updateCSV: function(item){\n            if(!this.csvInput || !this.con.csvOutput){\n                return this;\n            }\n            for(var selected = [], l = this.options.selected.length, i = 0; i < l; i++){\n                selected.push(this.options.selected[i].value);\n            }\n            this.csvInput.value = selected.join(this.con.csvSeparator || \",\");\n            return this;\n        },\n\n        /*\n         |  PUBLIC :: OPEN DROPDOWN\n         |  @since  0.5.0 [0.3.0]\n         */\n        open: function(animate){\n            if(cHAS(this.select, \"active\") || cHAS(this.select, \"idle\") || this.con.disabled){\n                return false;\n            }\n            this.calc();\n\n            // Final Function\n            var final = function(){\n                cADD(self.select, \"active\");\n                cREM(self.select, \"idle\");\n                this.dropdown.style.height = \"auto\";\n                this.dropdown.style.overflow = \"visible\";\n                this.label.removeAttribute(\"style\");\n                if(this.con.search && this.con.searchFocus){\n                    this.dropdown.querySelector(\"input\").focus();\n                }\n                this.trigger.call(this, \"open\");\n            }, self = this, e = this.dropdown.style;\n\n            // Open\n            if(animate !== false){\n                this.label.style.zIndex = 25;\n                this.dropdown.style.cssText += \"height:0;display:block;overflow:hidden;\";\n                cADD(self.select, \"idle\");\n                (function animate(){\n                    var h = parseInt(e.height, 10), m = parseInt(e.maxHeight, 10);\n                    if(h >= m){\n                        return final.call(self);\n                    }\n                    e.height = ((h+50 > m)? m: h+50) + \"px\";\n                    setTimeout(animate, 20);\n                })();\n            } else {\n                e.cssText = \"height:\" + e.maxHeight + \";display:block;overflow:hidden;\";\n                final.call(this);\n            }\n            return this;\n        },\n\n        /*\n         |  PUBLIC :: CLOSE DROPDOWN\n         |  @since  0.5.0 [0.3.0]\n         */\n        close: function(animate){\n            if(!cHAS(this.select, \"active\") || cHAS(this.select, \"idle\")){\n                return false;\n            }\n            var final = function(){\n                cREM(this.select, \"active\");\n                cREM(this.select, \"idle\");\n                this.dropdown.removeAttribute(\"style\");\n                this.dropdown.querySelector(\".dropdown-inner\").removeAttribute(\"style\");\n                this.trigger.call(this, \"close\");\n            }, self = this, e = this.dropdown;\n\n            // Close\n            if(animate !== false){\n                cADD(this.select, \"idle\");\n                this.dropdown.style.overflow = \"hidden\";\n                (function animate(){\n                    if((parseInt(e.offsetHeight, 10)-50) <= 0){\n                        return final.call(self);\n                    }\n                    e.style.height = (parseInt(e.offsetHeight, 10)-50) + \"px\";\n                    setTimeout(animate, 20);\n                })();\n            } else {\n                final.call(this);\n            }\n            return this;\n        },\n\n        /*\n         |  PUBLIC :: TOGGLE DROPDOWN\n         |  @since  0.5.0 [0.3.0]\n         */\n        toggle: function(animate){\n            if(cHAS(this.select, \"active\")){\n                return this.close(animate);\n            }\n            return !cHAS(this.select, \"idle\")? this.open(animate): this;\n        },\n\n        /*\n         |  PUBLIC :: REMOVE SELECT\n         |  @since  0.5.3 [0.3.0]\n         */\n        remove: function(){\n            this.e.removeAttribute(\"data-tail-select\");\n            if(this.e.hasAttribute(\"data-select-hidden\")){\n                if(this.e.getAttribute(\"data-select-hidden\") == \"0\"){\n                    this.e.style.removeProperty(\"display\");\n                }\n                this.e.removeAttribute(\"data-select-hidden\");\n            }\n            Array.prototype.map.call(this.e.querySelectorAll(\"[data-select-option='add']\"), function(item){\n                item.parentElement.removeChild(item);\n            })\n            Array.prototype.map.call(this.e.querySelectorAll(\"[data-select-optgroup='add']\"), function(item){\n                item.parentElement.removeChild(item);\n            })\n            this.e.name = (this.csvInput.hasAttribute(\"name\"))? this.csvInput.name: this.e.name;\n            if(this.select.parentElement){\n                this.select.parentElement.removeChild(this.select);\n            }\n            if(this.container){\n                var handles = this.container.querySelectorAll(\".select-handle\");\n                for(var l = handles.length, i = 0; i < l; i++){\n                    this.container.removeChild(handles[i]);\n                }\n            }\n            return this;\n        },\n\n        /*\n         |  PUBLIC :: RELOAD SELECT\n         |  @since  0.5.0 [0.3.0]\n         */\n        reload: function(){\n            return this.remove().init();\n        },\n\n        /*\n         |  PUBLIC :: GET|SET CONFIG\n         |  @since  0.5.15 [0.4.0]\n         */\n        config: function(key, value, rebuild){\n            if(key instanceof Object){\n                for(var k in key){ this.config(k, key[k], false); }\n                return this.reload()? this.con: this.con;\n            }\n            if(key === void 0){\n                return this.con;\n            } else if(!(key in this.con)){\n                return false;\n            }\n\n            // Set | Return\n            if(value === void 0){\n                return this.con[key];\n            }\n            this.con[key] = value;\n            if(rebuild !== false){\n                this.reload();\n            }\n            return this;\n        },\n        enable: function(update){\n            cREM(this.select, \"disabled\");\n            this.e.disabled = false;\n            this.con.disabled = false;\n            return (update === false)? this: this.reload();\n        },\n        disable: function(update){\n            cADD(this.select, \"disabled\");\n            this.e.disabled = true;\n            this.con.disabled = true;\n            return (update === false)? this: this.reload();\n        },\n\n        /*\n         |  PUBLIC :: CUSTOM EVENT LISTENER\n         |  @since  0.5.0 [0.4.0]\n         */\n        on: function(event, callback, args){\n            if([\"open\", \"close\", \"change\"].indexOf(event) < 0 || typeof callback !== \"function\"){\n                return false;\n            }\n            if(!(event in this.events)){\n                this.events[event] = [];\n            }\n            this.events[event].push({cb: callback, args: (args instanceof Array)? args: []});\n            return this;\n        },\n\n        /*\n         |  PUBLIC :: VALUE\n         |  @since  0.5.13 [0.5.13]\n         */\n        value: function(){\n            if(this.options.selected.length == 0){\n                return null;\n            }\n            if(this.con.multiple){\n                return this.options.selected.map(function(opt){\n                    return opt.value;\n                });\n            }\n            return this.options.selected[0].value;\n        }\n    };\n\n    /*\n     |  OPTIONS CONSTRUCTOR\n     |  @since  0.5.12 [0.3.0]\n     */\n    options = select.options = function(select, parent){\n        if(!(this instanceof options)){\n            return new options(select, parent);\n        }\n        this.self = parent;\n        this.element = select;\n        this.length = 0;\n        this.selected = [];\n        this.disabled = [];\n        this.items = {\"#\": {}};\n        this.groups = {};\n        return this;\n    }\n\n    /*\n     |  TAIL.OPTIONS HANDLER\n     */\n    options.prototype = {\n        /*\n         |  INTERNAL :: REPLACE TYPOs\n         |  @since  0.5.0 [0.3.0]\n         */\n        _r: function(state){\n            return state.replace(\"disabled\", \"disable\").replace(\"enabled\", \"enable\")\n                .replace(\"selected\", \"select\").replace(\"unselected\", \"unselect\");\n        },\n\n        /*\n         |  GET AN EXISTING OPTION\n         |  @since  0.5.7 [0.3.0]\n         */\n        get: function(key, grp){\n            var g = \"getAttribute\";\n            if(typeof key === \"object\" && key.key && key.group){\n                grp = key.group || grp;\n                key = key.key;\n            } else if(key instanceof Element){\n                if(key.tagName == \"OPTION\"){\n                    grp = key.parentElement.label || \"#\";\n                    key = key.value || key.innerText;\n                } else if(key.hasAttribute(\"data-key\")){\n                    grp = key[g](\"data-group\") || key.parentElement[g](\"data-group\") || \"#\";\n                    key = key[g](\"data-key\");\n                }\n            } else if(typeof key !== \"string\"){\n                return false;\n            }\n            key = (/^[0-9]+$/.test(key))? \"_\" + key: key;\n            return (grp in this.items)? this.items[grp][key]: false;\n        },\n\n        /*\n         |  SET AN EXISTING OPTION\n         |  @since  0.5.15 [0.3.0]\n         */\n        set: function(opt, rebuild){\n            var key = opt.value || opt.innerText, grp = opt.parentElement.label || \"#\";\n            if(!(grp in this.items)){\n                this.items[grp] = {};\n                this.groups[grp] = opt.parentElement;\n            }\n            if(key in this.items[grp]){\n                return false;\n            }\n            var id = (/^[0-9]+$/.test(key))? \"_\" + key: key;\n\n            // Validate Selection\n            var con = this.self.con;\n            if(con.multiple && this.selected.length >= con.multiLimit){\n                opt.selected = false;\n            }\n            if(opt.selected && con.deselect && (!opt.hasAttribute(\"selected\") || con.multiLimit == 0)){\n                opt.selected = false;\n                opt.parentElement.selectedIndex = -1;\n            }\n\n            // Sanitize Description\n            if(opt.hasAttribute(\"data-description\")){\n                var span = create(\"SPAN\");\n                span.innerHTML = opt.getAttribute(\"data-description\");\n                opt.setAttribute(\"data-description\", span.innerHTML);\n            }\n\n            // Add Item\n            this.items[grp][id] = {\n                key: key,\n                value: opt.text,\n                description: opt.getAttribute(\"data-description\") || null,\n                group: grp,\n                option: opt,\n                optgroup: (grp != \"#\")? this.groups[grp]: undefined,\n                selected: opt.selected,\n                disabled: opt.disabled,\n                hidden: opt.hidden || false\n            };\n            this.length++;\n            if(opt.selected){ this.select(this.items[grp][id]); }\n            if(opt.disabled){ this.disable(this.items[grp][id]); }\n            return (rebuild)? this.self.callback(this.items[grp][key], \"rebuild\"): true;\n        },\n\n        /*\n         |  CREATE A NEW OPTION\n         |  @since  0.5.13 [0.3.0]\n         */\n        add: function(key, value, group, selected, disabled, description, rebuild){\n            if(key instanceof Object){\n                for(var k in key){\n                    this.add(key[k].key || k, key[k].value, key[k].group, key[k].selected, key[k].disabled, key[k].description, false);\n                }\n                return this.self.query();\n            }\n            if(this.get(key, group)){\n                return false;\n            }\n\n            // Check Group\n            group = (typeof group === \"string\")? group: \"#\";\n            if(group !== \"#\" && !(group in this.groups)){\n                var optgroup = create(\"OPTGROUP\");\n                optgroup.label = group;\n                optgroup.setAttribute(\"data-select-optgroup\", \"add\");\n                this.element.appendChild(optgroup);\n                this.items[group] = {};\n                this.groups[group] = optgroup;\n            }\n\n            // Validate Selection\n            if(this.self.con.multiple && this.selected.length >= this.self.con.multiLimit){\n                selected = false;\n            }\n            disabled = !!disabled;\n\n            // Create Option\n            var option = d.createElement(\"OPTION\");\n            option.value = key;\n            option.selected = selected;\n            option.disabled = disabled;\n            option.innerText = value;\n            option.setAttribute(\"data-select-option\", \"add\");\n            if(description && description.length > 0){\n                option.setAttribute(\"data-description\", description);\n            }\n\n            // Add Option and Return\n            ((group == \"#\")? this.element: this.groups[group]).appendChild(option);\n            return this.set(option, rebuild);\n        },\n\n        /*\n         |  MOVE AN EXISTING OPTION\n         |  @since  0.5.0 [0.5.0]\n         */\n        move: function(item, group, new_group, rebuild){\n            if(!(item = this.get(item, group))){ return false; }\n\n            // Create Group\n            if(new_group !== \"#\" && !(new_group in this.groups)){\n                var optgroup = create(\"OPTGROUP\");\n                optgroup.label = new_group;\n                this.element.appendChild(optgroup);\n                this.items[new_group] = {};\n                this.groups[new_group] = optgroup;\n                this.groups[new_group].appendChild(item.option);\n            }\n\n            // Move To Group\n            delete this.items[item.group][item.key];\n            item.group = new_group;\n            item.optgroup = this.groups[new_group] || undefined;\n            this.items[new_group][item.key] = item;\n            return (rebuild)? this.self.query(): true;\n        },\n\n        /*\n         |  REMOVE AN EXISTING OPTION\n         |  @since  0.5.7 [0.3.0]\n         */\n        remove: function(item, group, rebuild){\n            if(!(item = this.get(item, group))){ return false; }\n            if(item.selected){ this.unselect(item); }\n            if(item.disabled){ this.enable(item); }\n\n            // Remove Data\n            item.option.parentElement.removeChild(item.option);\n            var id = (/^[0-9]+$/.test(item.key))? \"_\" + item.key: item.key;\n            delete this.items[item.group][id];\n            this.length--;\n\n            // Remove Optgroup\n            if(Object.keys(this.items[item.group]).length === 0){\n                delete this.items[item.group];\n                delete this.groups[item.group];\n            }\n            return (rebuild)? this.self.query(): true;\n        },\n\n        /*\n         |  CHECK AN EXISTING OPTION\n         |  @since  0.5.0 [0.3.0]\n         */\n        is: function(state, key, group){\n            var state = this._r(state), item = this.get(key, group);\n            if(!item || [\"select\", \"unselect\", \"disable\", \"enable\"].indexOf(state) < 0){\n                return null;\n            }\n            if(state == \"disable\" || state == \"enable\"){\n                return (state == \"disable\")? item.disabled: !item.disabled;\n            } else if(state == \"select\" || state == \"unselect\"){\n                return (state == \"select\")? item.selected: !item.selected;\n            }\n            return false;\n        },\n\n        /*\n         |  INTERACT WITH AN OPTION\n         |  @since  0.5.3 [0.3.0]\n         */\n        handle: function(state, key, group, _force){\n            var item = this.get(key, group), state = this._r(state);\n            if(!item || [\"select\", \"unselect\", \"disable\", \"enable\"].indexOf(state) < 0){\n                return null;\n            }\n\n            // Disable || Enable\n            if(state == \"disable\" || state == \"enable\"){\n                if(!(item.option in this.disabled) && state == \"disable\"){\n                    this.disabled.push(item.option);\n                } else if((item.option in this.disabled) && state == \"enable\"){\n                    this.disabled.splice(this.disabled.indexOf(item.option), 1);\n                }\n                item.disabled = (state == \"disable\");\n                item.option.disabled = (state == \"disable\");\n                return this.self.callback.call(this.self, item, state);\n            }\n\n            // Select || Unselect\n            var dis = (cHAS(this.self.select, \"disabled\") || item.disabled || item.option.disabled),\n                lmt = (this.self.con.multiple && this.self.con.multiLimit <= this.selected.length),\n                sgl = (!this.self.con.multiple && this.selected.indexOf(item.option) > 0),\n                del = (this.self.con.multiLimit == 0 && this.self.con.deselect == true),\n                uns = (!this.self.con.multiple && !this.self.con.deselect && _force !== true);\n            if(state == \"select\"){\n                if(dis || lmt || del || sgl){\n                    return false;\n                }\n                if(!this.self.con.multiple){\n                    for(var i in this.selected){\n                        this.unselect(this.selected[i], undefined, true);\n                    }\n                }\n                if(this.selected.indexOf(item.option) < 0){\n                    this.selected.push(item.option);\n                }\n            } else if(state == \"unselect\"){\n                if(dis || uns){\n                    return false;\n                }\n                this.selected.splice(this.selected.indexOf(item.option), 1);\n            }\n            item.selected = (state == \"select\");\n            item.option.selected = (state == \"select\");\n            item.option[(state.length > 6? \"remove\": \"set\") + \"Attribute\"](\"selected\", \"selected\");\n            return this.self.callback.call(this.self, item, state, _force);\n        },\n        enable: function(key, group){\n            return this.handle(\"enable\", key, group, false);\n        },\n        disable: function(key, group){\n            return this.handle(\"disable\", key, group, false);\n        },\n        select: function(key, group){\n            return this.handle(\"select\", key, group, false);\n        },\n        unselect: function(key, group, _force){\n            return this.handle(\"unselect\", key, group, _force);\n        },\n        toggle: function(item, group){\n            if(!(item = this.get(item, group))){ return false; }\n            return this.handle((item.selected? \"unselect\": \"select\"), item, group, false);\n        },\n\n        /*\n         |  INVERT CURRENT <STATE>\n         |  @since  0.5.15 [0.3.0]\n         */\n        invert: function(state){\n            state = this._r(state);\n            if([\"enable\", \"disable\"].indexOf(state) >= 0){\n                var invert = this.disabled, action = (state == \"enable\")? \"disable\": \"enable\";\n            } else if([\"select\", \"unselect\"].indexOf(state) >= 0){\n                var invert = this.selected, action = (state == \"select\")? \"unselect\": \"select\";\n            }\n            var convert = Array.prototype.filter.call(this, function(element){\n                return !(element in invert);\n            }), self = this;\n\n            // Loop\n            [].concat(invert).forEach(function(item){\n                self.handle.call(self, action, item);\n            });\n            [].concat(convert).forEach(function(item){\n                self.handle.call(self, state, item);\n            });\n            return true;\n        },\n\n        /*\n         |  SET <STATE> ON ALL OPTIONs\n         |  @since  0.5.0 [0.5.0]\n         */\n        all: function(state, group){\n            var self = this, list = this;\n            if(group in this.items){\n                list = Object.keys(this.items[group]);\n            } else if([\"unselect\", \"enable\"].indexOf(state) >= 0){\n                list = [].concat((state == \"unselect\")? this.selected: this.disabled);\n            }\n            Array.prototype.forEach.call(list, function(item){\n                self.handle.call(self, state, item, group, false);\n            });\n            return true;\n        },\n\n        /*\n         |  SET <STATE> FOR A BUNCH OF OPTIONs\n         |  @since  0.5.4 [0.5.3]\n         */\n        walk: function(state, items, args){\n            if(items instanceof Array || items.length){\n                for(var l = items.length, i = 0; i < l; i++){\n                    this.handle.apply(this, [state, items[i], null].concat(args));\n                }\n            } else if(items instanceof Object){\n                var self = this;\n                if(items.forEach){\n                    items.forEach(function(value){\n                        self.handle.apply(self, [state, value, null].concat(args));\n                    });\n                } else {\n                    for(var key in items){\n                        if(typeof items[key] !== \"string\" && typeof items[key] !== \"number\" && !(items[key] instanceof Element)){\n                            continue;\n                        }\n                        this.handle.apply(this, [state, items[key], (key in this.items? key: null)]).concat(args);\n                    }\n                }\n            }\n            return this;\n        },\n\n        /*\n         |  APPLY LINGUSTIC RULES\n         |  @since  0.5.13 [0.5.13]\n         */\n        applyLinguisticRules: function(search, casesensitive){\n            var rules = this.self.con.linguisticRules, values = [];\n\n            // Prepare Rules\n            Object.keys(rules).forEach(function(key){\n                values.push(\"(\" + key + \"|[\" + rules[key] + \"])\");\n            });\n            if(casesensitive){\n                values = values.concat(values.map(function(s){ return s.toUpperCase(); }));\n            }\n\n            return search.replace(new RegExp(values.join(\"|\"), (casesensitive)? \"g\": \"ig\"), function(m){\n                return values[[].indexOf.call(arguments, m, 1) - 1];\n            });\n        },\n\n\n        /*\n         |  FIND SOME OPTIONs - ARRAY EDITION\n         |  @since  0.5.15 [0.3.0]\n         */\n        find: function(search, config){\n            var self = this, matches, has = {};\n\n            // Get Config\n            if(!config){\n                config = this.self.con.searchConfig;\n            }\n\n            // Config Callback\n            if(typeof config === \"function\"){\n                matches = config.bind(this, search);\n            }\n\n            // Config Handler\n            else {\n                config = (config instanceof Array)? config: [config];\n                config.forEach(function(c){\n                    if(typeof c === \"string\"){ has[c] = true; }\n                });\n                has.any = (!has.any)? has.attributes && has.value: has.any;\n\n                // Cleanup & Prepare\n                if(!has.regex || has.text){\n                    search = search.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n                }\n                if(!has.exactglyphes){\n                    search = this.self.options.applyLinguisticRules(search, has.case);\n                }\n                if(has.word){\n                    search = '\\\\b' + search + '\\\\b';\n                }\n\n                // Search\n                var regex = new RegExp(search, (!has.case)? \"mi\": \"m\"),\n                    sfunc = function(opt){ return regex.test(opt.text || opt.value); };\n\n                // Handle\n                if(has.any){\n                    matches = function(opt){ return sfunc(opt) || [].some.call(opt.attributes, sfunc); };\n                } else if(has.attributes){\n                    matches = function(opt){ return [].some.call(opt.attributes, sfunc); };\n                } else {\n                    matches = sfunc;\n                }\n\n                if(!this.self.con.searchDisabled){\n                    var temp = matches;\n                    matches = function(opt){ return !opt.disabled && temp(opt); };\n                }\n            }\n\n            // Hammer Time\n            return [].filter.call(this.self.e.options, matches).map(function(opt){\n                return opt.hidden? false: self.get(opt)\n            });\n        },\n\n        /*\n         |  FIND SOME OPTIONs - WALKER EDITION\n         |  @since  0.5.5 [0.3.0]\n         */\n        finder: function(search, config){\n            if(this._finderLoop === undefined){\n                this._finderLoop = this.find(search, config);\n            }\n            var item;\n            while((item = this._finderLoop.shift()) !== undefined){\n                return item;\n            }\n            delete this._finderLoop;\n            return false;\n        },\n\n        /*\n         |  NEW OPTIONS WALKER\n         |  @since  0.5.15 [0.4.0]\n         */\n        walker: function(orderi, orderg){\n            if(typeof this._inLoop !== \"undefined\" && this._inLoop){\n                if(this._inItems.length > 0){\n                    do {\n                        var temp = this.items[this._inGroup][this._inItems.shift()];\n                    } while(temp.hidden === true);\n                    return temp;\n                }\n\n                // Sort Items\n                if(this._inGroups.length > 0){\n                    while(this._inGroups.length > 0){\n                        var group = this._inGroups.shift();\n                        if(!(group in this.items)){\n                            return false;\n                        }\n\n                        var keys = Object.keys(this.items[group]);\n                        if(keys.length > 0){\n                            break;\n                        }\n                    }\n                    if(orderi == \"ASC\"){\n                        keys.sort();\n                    } else if(orderi == \"DESC\"){\n                        keys.sort().reverse();\n                    } else if(typeof orderi === \"function\"){\n                        keys = orderi.call(this, keys);\n                    }\n                    this._inItems = keys;\n                    this._inGroup = group;\n                    return this.walker(null, null);\n                }\n\n                // Delete and Exit\n                delete this._inLoop;\n                delete this._inItems;\n                delete this._inGroup;\n                delete this._inGroups;\n                return false;\n            }\n\n            // Sort Groups\n            var groups = Object.keys(this.groups) || [];\n            if(orderg == \"ASC\"){\n                groups.sort();\n            } else if(orderg == \"DESC\"){\n                groups.sort().reverse();\n            } else if(typeof orderg === \"function\"){\n                groups = orderg.call(this, groups);\n            }\n            groups.unshift(\"#\");\n\n            // Init Loop\n            this._inLoop = true;\n            this._inItems = [];\n            this._inGroups = groups;\n            return this.walker(orderi, null);\n        }\n    };\n\n    // Return\n    return select;\n}));"],"file":"select.min.js"}