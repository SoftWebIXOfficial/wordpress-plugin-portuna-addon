{"version":3,"sources":["editor-panel.js"],"names":["_unsupportedIterableToArray","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","arr","len","length","i","arr2","_createForOfIteratorHelper","allowArrayLike","it","Symbol","iterator","isArray","F","s","done","value","e","f","TypeError","normalCompletion","didErr","err","step","next","__","wp","i18n","$","window","doc","editorPanelSettings","onInit","bindEvents","elementor","hooks","addAction","panel","elementorControls","document","on","el","$el","dataWidgets","data","JSON","parse","stringify","pro_controls_section","dialog","createDialogMessage","observer","MutationObserver","mutations","_iterator","_step","mutation","type","addedNodes","checkControls","dialogMessageControl","config","childList","dialogMessageSettings","observe","find","each","index","item","concat","closest","addClass","settings","dialogMessage","elementorCommon","dialogsManager","createWidget","dialogType","dialogOptions","addButton","text","callback","open","className","id","headerMessage","message","effects","hide","show","onBackgroundClick","position","my","at","jQuery"],"mappings":"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","file":"editor-panel.min.js","sourcesContent":["(function () {\n  'use strict';\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelper(o, allowArrayLike) {\n    var it;\n\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n        if (it) o = it;\n        var i = 0;\n\n        var F = function () {};\n\n        return {\n          s: F,\n          n: function () {\n            if (i >= o.length) return {\n              done: true\n            };\n            return {\n              done: false,\n              value: o[i++]\n            };\n          },\n          e: function (e) {\n            throw e;\n          },\n          f: F\n        };\n      }\n\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    var normalCompletion = true,\n        didErr = false,\n        err;\n    return {\n      s: function () {\n        it = o[Symbol.iterator]();\n      },\n      n: function () {\n        var step = it.next();\n        normalCompletion = step.done;\n        return step;\n      },\n      e: function (e) {\n        didErr = true;\n        err = e;\n      },\n      f: function () {\n        try {\n          if (!normalCompletion && it.return != null) it.return();\n        } finally {\n          if (didErr) throw err;\n        }\n      }\n    };\n  }\n\n  //import data from './pro-widgets.js';\n  var __ = wp.i18n.__;\n\n  (function ($, window, doc) {\n\n    var editorPanelSettings = {\n      onInit: function onInit() {\n        editorPanelSettings.bindEvents();\n      },\n      bindEvents: function bindEvents() {\n        window.elementor.hooks.addAction('panel/open_editor/widget', function (panel) {\n          editorPanelSettings.elementorControls(panel);\n          $(document).on('click', '.elementor-component-tab', function () {\n            editorPanelSettings.elementorControls(panel);\n          });\n        });\n      },\n      elementorControls: function elementorControls(panel) {\n        var el = panel.$el,\n            dataWidgets = typeof data != 'undefined' ? JSON.parse(JSON.stringify(data.pro_controls_section)) : {},\n            dialog = editorPanelSettings.createDialogMessage(),\n            observer = new MutationObserver(function (mutations) {\n          var _iterator = _createForOfIteratorHelper(mutations),\n              _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var mutation = _step.value;\n\n              if (mutation.type === 'childList') {\n                if (mutation.addedNodes.length) {\n                  editorPanelSettings.checkControls(el, dataWidgets);\n                  editorPanelSettings.dialogMessageControl(el, dialog);\n                }\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        }),\n            config = {\n          childList: true\n        };\n        editorPanelSettings.checkControls(el, dataWidgets);\n        editorPanelSettings.dialogMessageControl(el, dialog);\n        editorPanelSettings.dialogMessageSettings();\n        observer.observe(el.find('#elementor-controls')[0], config);\n      },\n      checkControls: function checkControls(el, dataWidgets) {\n        $.each(dataWidgets, function (index, item) {\n          el.find(\".elementor-section-toggle[data-collapse_id='\".concat(item, \"']\")).closest('.elementor-control').addClass('portuna-addon-pro-section elementor-open');\n        });\n      },\n      createDialogMessage: function createDialogMessage() {\n        var settings = editorPanelSettings.dialogMessageSettings(),\n            dialogMessage = elementorCommon.dialogsManager.createWidget(settings.dialogType, settings.dialogOptions);\n        dialogMessage.addButton({\n          name: 'close',\n          text: __('Close', 'portuna-addon')\n        });\n        dialogMessage.addButton({\n          name: 'purchase_now',\n          text: __('Purchase Now', 'portuna-addon'),\n          callback: function callback() {\n            open('https://pay.fondy.eu/s/0J8D2oVKUlLMab', '_blank'); // Fondy link.\n          }\n        });\n        return dialogMessage;\n      },\n      dialogMessageSettings: function dialogMessageSettings() {\n        return {\n          dialogType: 'lightbox',\n          dialogOptions: {\n            className: 'portuna-addon--pro-modal',\n            id: 'elementor-deactivate-feedback-modal',\n            headerMessage: __('Get the Pro', 'portuna-addon'),\n            message: __('In order to use professional features to expand your toolkit and create sites faster and better, you need to purchase an extended version of the plugin.', 'portuna-addon'),\n            effects: {\n              hide: 'hide',\n              show: 'show'\n            },\n            hide: {\n              onBackgroundClick: false\n            },\n            position: {\n              my: 'center',\n              at: 'center'\n            }\n          }\n        };\n      },\n      dialogMessageControl: function dialogMessageControl(el, dialog) {\n        el.find('.portuna-addon-pro-section').on('click', function () {\n          dialog.show();\n        });\n      }\n    };\n    $(window).on('load', function () {\n      editorPanelSettings.onInit();\n    });\n  })(jQuery, window);\n\n}());\n"]}